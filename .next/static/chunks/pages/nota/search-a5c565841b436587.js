(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{4294:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nota/search",function(){return s(1847)}])},1847:function(e,l,s){"use strict";s.r(l),s.d(l,{__N_SSP:function(){return p},default:function(){return N}});var a=s(5893),r=s(6945),c=s(5675),t=s.n(c),n=s(3299),i=s(1163),o=s(1664),d=s.n(o),u=s(6492),m=s(9059),x=s(8375),h=e=>{var l;let{userId:s,w:r,h:c,type:t,fullScreenPic:o}=e,{data:h}=(0,n.useSession)(),f=(0,i.useRouter)(),j=async()=>{var e;let l=await fetch("/api/".concat(t,"/avatar/?").concat("user"===t?"username=".concat(encodeURIComponent(null==h?void 0:null===(e=h.user)||void 0===e?void 0:e.email)):"userId=".concat(s))),a=l.json();return a},{data:v,isLoading:b,isError:g}=(0,u.a)([s||(null==h?void 0:null===(l=h.user)||void 0===l?void 0:l.email),"profilePicture"],j);return b?(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsx)("div",{className:"object-cover rounded-full border mb-4"})}):g?(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsx)("div",{className:"object-cover rounded-full border mb-4",children:(0,a.jsx)("p",{children:"Error"})})}):"/perfil"===f.pathname?(0,a.jsx)("div",{className:"flex ".concat(r," ").concat(c," flex-col items-center justify-center relative"),children:(0,a.jsx)(x.bz,{src:v.image||m.j,fill:!0,alt:"".concat(s,"'s Avatar"),className:"object-cover absolute ".concat(!o&&"rounded-full"," border-2 border-gray-300 w-full")})}):(0,a.jsx)(d(),{className:"flex ".concat(r," ").concat(c," flex-col items-center justify-center relative"),href:"/perfil",children:(0,a.jsx)(x.bz,{src:v.image||m.j,fill:!0,alt:"".concat(s,"'s Avatar"),className:"object-cover absolute rounded-full border-2 border-gray-300 w-full"})})},f=s(9417),j=s(2489);s(7294);let v=[{icon:f.M6U,href:"/",name:"Compartir",color:"bg-violet-400"},{icon:f.FVb,href:"usuarios",name:"Buscar usuarios",color:"bg-emerald-400"},{icon:f.IyC,href:"usuarios",name:"Videollamadas",color:"bg-violet-400"}];var b=()=>(0,a.jsx)("ul",{className:"flex justify-around my-4 lg:my-0 lg:gap-2",children:v.map((e,l)=>(0,a.jsx)("li",{className:"w-28 h-20 lg:h-fit lg:w-fit lg:rounded-lg lg:px-4 text-gray-300 lg:bg-[#3a3a3a] active:hover:opacity-70 lg:hover:opacity-70",children:(0,a.jsxs)(d(),{className:"flex flex-col lg:flex-row lg:gap-2 justify-center items-center",href:e.href,children:[(0,a.jsx)(j.G,{size:"2x",icon:e.icon,className:"lg:w-4"}),(0,a.jsx)("span",{children:e.name})]})},l))}),g=e=>{let{imageSrc:l,name:s,description:r}=e,{data:c,status:o}=(0,n.useSession)(),u=(0,i.useRouter)();return"loading"===o?(0,a.jsx)("div",{className:"min-w-full mb-8",children:(0,a.jsx)("div",{className:"text-center",children:"Cargando datos de usuario..."})}):c&&c.user?(0,a.jsx)("div",{className:"min-w-full mb-8",children:(0,a.jsxs)("div",{className:"bg-white shadow-md rounded p-4 flex flex-col items-center mb-4",children:[(0,a.jsx)(d(),{href:"/perfil",children:(0,a.jsx)(h,{type:"user"})}),(0,a.jsxs)("div",{className:"text-center flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"font-bold",children:c.user.name}),(0,a.jsx)("p",{className:"italic",children:c.user.email}),(0,a.jsx)(b,{})]})]})}):(0,a.jsx)("div",{className:"min-w-full mb-8",children:(0,a.jsxs)("div",{className:"bg-white shadow-md rounded p-4 flex flex-col items-center mb-4",children:[(0,a.jsx)(t(),{src:l,width:128,height:128,alt:"".concat(s,"'s Avatar"),className:"w-16 h-16 object-cover rounded-full mb-4 md:mb-0"}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{type:"button",onClick:()=>u.push("/login"),className:"font-bold",children:"Iniciar Sesi\xf3n"})})]})})},p=!0,N=e=>{let{timelineData:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"border flex justify-center items-center",children:[(0,a.jsx)(d(),{className:"text-xs",href:"/",children:"Volver"}),(0,a.jsx)("h1",{className:"text-xl text-center font-bold m-4",children:"Mis publicaciones"})]}),(0,a.jsx)(g,{imageSrc:"https://randomuser.me/api/portraits/men/5.jpg",name:"Juan Silva",description:"Ciclista Amateur"}),(0,a.jsx)("div",{children:l&&l.length>0&&l.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)(r.Z,{_id:e._id,tags:e.tags,mainText:e.mainText,length:e.length,timeline:e.photo,createdAt:e.createdAt,authorId:e.authorId,authorName:e.authorName,links:e.links})},e._id))})]})}}},function(e){e.O(0,[976,948,828,455,876,603,375,770,945,774,888,179],function(){return e(e.s=4294)}),_N_E=e.O()}]);