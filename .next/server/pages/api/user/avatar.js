"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/user/avatar";
exports.ids = ["pages/api/user/avatar"];
exports.modules = {

/***/ "@typegoose/typegoose":
/*!***************************************!*\
  !*** external "@typegoose/typegoose" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("@typegoose/typegoose");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "tslib":
/*!************************!*\
  !*** external "tslib" ***!
  \************************/
/***/ ((module) => {

module.exports = require("tslib");

/***/ }),

/***/ "nanoid":
/*!*************************!*\
  !*** external "nanoid" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("nanoid");;

/***/ }),

/***/ "(api)/./src/db/dbConnect.ts":
/*!*****************************!*\
  !*** ./src/db/dbConnect.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n// lib/dbConnect.tsx\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections from growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.connect)(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvZGIvZGJDb25uZWN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLG9CQUFvQjtBQUUwQjtBQVM5QyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFDUjtBQUVKO0FBRUE7Ozs7Q0FJQyxHQUNELElBQUlDLFNBQVNDLE9BQU9DLFFBQVE7QUFFNUIsSUFBSSxDQUFDRixRQUFRO0lBQ1hBLFNBQVNDLE9BQU9DLFFBQVEsR0FBRztRQUFFQyxNQUFNO1FBQU1DLFNBQVM7SUFBSztBQUN6RDtBQUVBLGVBQWVDO0lBQ2IsSUFBSUwsT0FBT0csSUFBSSxFQUFFO1FBQ2YsT0FBT0gsT0FBT0csSUFBSTtJQUNwQjtJQUVBLElBQUksQ0FBQ0gsT0FBT0ksT0FBTyxFQUFFO1FBQ25CLE1BQU1FLE9BQU87WUFDWEMsZ0JBQWdCO1FBQ2xCO1FBRUFQLE9BQU9JLE9BQU8sR0FBR1QsaURBQU9BLENBQUNDLGFBQWNVLE1BQU1FLElBQUksQ0FBQyxDQUFDTjtZQUNqRCxPQUFPQTtRQUNUO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZGLE9BQU9HLElBQUksR0FBRyxNQUFNSCxPQUFPSSxPQUFPO0lBQ3BDLEVBQUUsT0FBT0ssR0FBRztRQUNWVCxPQUFPSSxPQUFPLEdBQUc7UUFDakIsTUFBTUs7SUFDUjtJQUVBLE9BQU9ULE9BQU9HLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RveGFkb2N0b3IvLi9zcmMvZGIvZGJDb25uZWN0LnRzPzQ1OGUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2RiQ29ubmVjdC50c3hcclxuXHJcbmltcG9ydCBfbW9uZ29vc2UsIHsgY29ubmVjdCB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIHZhciBtb25nb29zZToge1xyXG4gICAgcHJvbWlzZTogUmV0dXJuVHlwZTx0eXBlb2YgY29ubmVjdD4gfCBudWxsO1xyXG4gICAgY29ubjogdHlwZW9mIF9tb25nb29zZSB8IG51bGw7XHJcbiAgfTtcclxufVxyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICBcIlBsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52LmxvY2FsXCJcclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogR2xvYmFsIGlzIHVzZWQgaGVyZSB0byBtYWludGFpbiBhIGNhY2hlZCBjb25uZWN0aW9uIGFjcm9zcyBob3QgcmVsb2Fkc1xyXG4gKiBpbiBkZXZlbG9wbWVudC4gVGhpcyBwcmV2ZW50cyBjb25uZWN0aW9ucyBmcm9tIGdyb3dpbmcgZXhwb25lbnRpYWxseVxyXG4gKiBkdXJpbmcgQVBJIFJvdXRlIHVzYWdlLlxyXG4gKi9cclxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcclxuXHJcbmlmICghY2FjaGVkKSB7XHJcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ubjtcclxuICB9XHJcblxyXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcclxuICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgY2FjaGVkLnByb21pc2UgPSBjb25uZWN0KE1PTkdPREJfVVJJISwgb3B0cykudGhlbigobW9uZ29vc2UpID0+IHtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XHJcbiJdLCJuYW1lcyI6WyJjb25uZWN0IiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJtb25nb29zZSIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/db/dbConnect.ts\n");

/***/ }),

/***/ "(api)/./src/db/models/userModel.ts":
/*!************************************!*\
  !*** ./src/db/models/userModel.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   User: () => (/* binding */ User),\n/* harmony export */   UserModel: () => (/* binding */ UserModel)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/_/_ts_decorate */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\");\n/* harmony import */ var _swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/_/_ts_metadata */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\");\n/* harmony import */ var _typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @typegoose/typegoose */ \"@typegoose/typegoose\");\n/* harmony import */ var _typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nanoid */ \"nanoid\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([nanoid__WEBPACK_IMPORTED_MODULE_1__]);\nnanoid__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nlet User = class User {\n    static async hashPassword(password) {\n        return await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().hash(password, 10);\n    }\n    async validatePassword(password) {\n        return await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().compare(password, this.password);\n    }\n};\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: ()=>(0,nanoid__WEBPACK_IMPORTED_MODULE_1__.nanoid)(9)\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"_id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        required: true\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"name\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: \"\"\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"slug\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: \"\"\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"bio\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: false\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Boolean)\n], User.prototype, \"online\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        required: true,\n        unique: true\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"email\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        required: true\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"password\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)(),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"image\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)(),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Array)\n], User.prototype, \"tags\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: []\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Array)\n], User.prototype, \"favorites\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        type: [\n            String\n        ],\n        default: []\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Array)\n], User.prototype, \"user_agent_id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)(),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Array)\n], User.prototype, \"photos\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)(),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Object)\n], User.prototype, \"emailVerified\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: false\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Boolean)\n], User.prototype, \"disableAds\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: \"USER\"\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"role\", void 0);\nUser = (0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.modelOptions)({\n        schemaOptions: {\n            timestamps: true,\n            collection: \"doxa_usermodel\"\n        },\n        options: {\n            allowMixed: 0\n        }\n    })\n], User);\nconst UserModel = (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.getModelForClass)(User);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvZGIvbW9kZWxzL3VzZXJNb2RlbC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUE0RTtBQUM1QztBQUNKO0FBV3JCLElBQU1LLE9BQU47SUE4Q0wsYUFBYUMsYUFBYUMsUUFBZ0IsRUFBRTtRQUMxQyxPQUFPLE1BQU1ILGtEQUFXLENBQUNHLFVBQVU7SUFDckM7SUFFQSxNQUFNRSxpQkFBaUJGLFFBQWdCLEVBQUU7UUFDdkMsT0FBTyxNQUFNSCxxREFBYyxDQUFDRyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtJQUNyRDtBQUNGOztJQXBER04sMERBQUlBLENBQUM7UUFBRVUsU0FBUyxJQUFNUiw4Q0FBTUEsQ0FBQztJQUFHOztHQUR0QkU7O0lBSVZKLDBEQUFJQSxDQUFDO1FBQUVXLFVBQVU7SUFBSzs7R0FKWlA7O0lBT1ZKLDBEQUFJQSxDQUFDO1FBQUVVLFNBQVM7SUFBRzs7R0FQVE47O0lBVVZKLDBEQUFJQSxDQUFDO1FBQUVVLFNBQVM7SUFBRzs7R0FWVE47O0lBYVZKLDBEQUFJQSxDQUFDO1FBQUVVLFNBQVM7SUFBTTs7R0FiWk47O0lBZ0JWSiwwREFBSUEsQ0FBQztRQUFFVyxVQUFVO1FBQU1DLFFBQVE7SUFBSzs7R0FoQjFCUjs7SUFtQlZKLDBEQUFJQSxDQUFDO1FBQUVXLFVBQVU7SUFBSzs7R0FuQlpQOztJQXNCVkosMERBQUlBOztHQXRCTUk7O0lBeUJWSiwwREFBSUE7O0dBekJNSTs7SUE0QlZKLDBEQUFJQSxDQUFDO1FBQUVVLFNBQVMsRUFBRTtJQUFDOztHQTVCVE47O0lBK0JWSiwwREFBSUEsQ0FBQztRQUFFYSxNQUFNO1lBQUNDO1NBQU87UUFBRUosU0FBUyxFQUFFO0lBQUM7O0dBL0J6Qk47O0lBa0NWSiwwREFBSUE7O0dBbENNSTs7SUFxQ1ZKLDBEQUFJQTs7R0FyQ01JOztJQXdDVkosMERBQUlBLENBQUM7UUFBRVUsU0FBUztJQUFNOztHQXhDWk47O0lBMkNWSiwwREFBSUEsQ0FBQztRQUFFVSxTQUFTO0lBQU87O0dBM0NiTjtBQUFBQSxPQUFBQSwyREFBQUE7SUFUWkwsa0VBQVlBLENBQUM7UUFDWmdCLGVBQWU7WUFDYkMsWUFBWTtZQUNaQyxZQUFZO1FBQ2Q7UUFDQUMsU0FBUztZQUNQQyxZQUFZO1FBQ2Q7SUFDRjtHQUNhZjtBQXVETixNQUFNZ0IsWUFBWW5CLHNFQUFnQkEsQ0FBQ0csTUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2RveGFkb2N0b3IvLi9zcmMvZGIvbW9kZWxzL3VzZXJNb2RlbC50cz81MjE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1vZGVsT3B0aW9ucywgcHJvcCwgZ2V0TW9kZWxGb3JDbGFzcyB9IGZyb20gXCJAdHlwZWdvb3NlL3R5cGVnb29zZVwiO1xyXG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tIFwibmFub2lkXCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xyXG5cclxuQG1vZGVsT3B0aW9ucyh7XHJcbiAgc2NoZW1hT3B0aW9uczoge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICAgIGNvbGxlY3Rpb246IFwiZG94YV91c2VybW9kZWxcIixcclxuICB9LFxyXG4gIG9wdGlvbnM6IHtcclxuICAgIGFsbG93TWl4ZWQ6IDAsXHJcbiAgfSxcclxufSlcclxuZXhwb3J0IGNsYXNzIFVzZXIge1xyXG4gIEBwcm9wKHsgZGVmYXVsdDogKCkgPT4gbmFub2lkKDkpIH0pXHJcbiAgX2lkOiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcclxuICBuYW1lOiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKHsgZGVmYXVsdDogXCJcIiB9KVxyXG4gIHNsdWc6IHN0cmluZztcclxuXHJcbiAgQHByb3AoeyBkZWZhdWx0OiBcIlwiIH0pXHJcbiAgYmlvOiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKHsgZGVmYXVsdDogZmFsc2UgfSlcclxuICBvbmxpbmU6IGJvb2xlYW47XHJcblxyXG4gIEBwcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9KVxyXG4gIGVtYWlsOiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcclxuICBwYXNzd29yZDogc3RyaW5nO1xyXG5cclxuICBAcHJvcCgpXHJcbiAgaW1hZ2U/OiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKClcclxuICB0YWdzPzogc3RyaW5nW107XHJcblxyXG4gIEBwcm9wKHsgZGVmYXVsdDogW10gfSlcclxuICBmYXZvcml0ZXM/OiBzdHJpbmdbXTtcclxuXHJcbiAgQHByb3AoeyB0eXBlOiBbU3RyaW5nXSwgZGVmYXVsdDogW10gfSlcclxuICB1c2VyX2FnZW50X2lkOiBzdHJpbmdbXTtcclxuXHJcbiAgQHByb3AoKVxyXG4gIHBob3Rvcz86IHN0cmluZ1tdO1xyXG5cclxuICBAcHJvcCgpXHJcbiAgZW1haWxWZXJpZmllZD86IERhdGUgfCBudWxsO1xyXG5cclxuICBAcHJvcCh7IGRlZmF1bHQ6IGZhbHNlIH0pXHJcbiAgZGlzYWJsZUFkcz86IGJvb2xlYW47XHJcblxyXG4gIEBwcm9wKHsgZGVmYXVsdDogXCJVU0VSXCIgfSlcclxuICByb2xlPzogc3RyaW5nO1xyXG5cclxuICBzdGF0aWMgYXN5bmMgaGFzaFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgdmFsaWRhdGVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRoaXMucGFzc3dvcmQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFVzZXJNb2RlbCA9IGdldE1vZGVsRm9yQ2xhc3MoVXNlcik7XHJcbiJdLCJuYW1lcyI6WyJtb2RlbE9wdGlvbnMiLCJwcm9wIiwiZ2V0TW9kZWxGb3JDbGFzcyIsIm5hbm9pZCIsImJjcnlwdCIsIlVzZXIiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsImhhc2giLCJ2YWxpZGF0ZVBhc3N3b3JkIiwiY29tcGFyZSIsImRlZmF1bHQiLCJyZXF1aXJlZCIsInVuaXF1ZSIsInR5cGUiLCJTdHJpbmciLCJzY2hlbWFPcHRpb25zIiwidGltZXN0YW1wcyIsImNvbGxlY3Rpb24iLCJvcHRpb25zIiwiYWxsb3dNaXhlZCIsIlVzZXJNb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/db/models/userModel.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/user/avatar.ts":
/*!**************************************!*\
  !*** ./src/pages/api/user/avatar.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _db_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../db/dbConnect */ \"(api)/./src/db/dbConnect.ts\");\n/* harmony import */ var _db_models_userModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/db/models/userModel */ \"(api)/./src/db/models/userModel.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db_models_userModel__WEBPACK_IMPORTED_MODULE_1__]);\n_db_models_userModel__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handler(req, res) {\n    await (0,_db_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    const { username } = req.query;\n    if (!username) {\n        return res.status(400).json({\n            error: \"Username is required\"\n        });\n    }\n    try {\n        if (req.method === \"POST\") {\n            const { image } = req.body;\n            if (!image || typeof image !== \"string\") {\n                return res.status(400).json({\n                    error: \"Photo is required and must be a string\"\n                });\n            }\n            const updatedUser = await _db_models_userModel__WEBPACK_IMPORTED_MODULE_1__.UserModel.findOneAndUpdate({\n                email: username\n            }, {\n                $set: {\n                    image\n                }\n            }, {\n                new: true\n            }).select(\"image\");\n            if (!updatedUser) {\n                return res.status(404).json({\n                    error: \"User not found\"\n                });\n            }\n            return res.status(200).json({\n                image: updatedUser.image\n            });\n        } else if (req.method === \"GET\") {\n            const user = await _db_models_userModel__WEBPACK_IMPORTED_MODULE_1__.UserModel.findOne({\n                email: username\n            }).select(\"image\");\n            if (!user) {\n                return res.status(404).json({\n                    error: \"User not found\"\n                });\n            }\n            return res.status(200).json({\n                image: user.image\n            });\n        } else {\n            return res.status(405).json({\n                error: \"Method not allowed\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Error in API handler:\", error);\n        return res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3VzZXIvYXZhdGFyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUM4QztBQUNJO0FBRW5DLGVBQWVFLFFBQzVCQyxHQUFtQixFQUNuQkMsR0FBb0I7SUFFcEIsTUFBTUoseURBQVNBO0lBRWYsTUFBTSxFQUFFSyxRQUFRLEVBQUUsR0FBR0YsSUFBSUcsS0FBSztJQUM5QixJQUFJLENBQUNELFVBQVU7UUFDYixPQUFPRCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBdUI7SUFDOUQ7SUFFQSxJQUFJO1FBQ0YsSUFBSU4sSUFBSU8sTUFBTSxLQUFLLFFBQVE7WUFDekIsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR1IsSUFBSVMsSUFBSTtZQUUxQixJQUFJLENBQUNELFNBQVMsT0FBT0EsVUFBVSxVQUFVO2dCQUN2QyxPQUFPUCxJQUNKRyxNQUFNLENBQUMsS0FDUEMsSUFBSSxDQUFDO29CQUFFQyxPQUFPO2dCQUF5QztZQUM1RDtZQUVBLE1BQU1JLGNBQWMsTUFBTVosMkRBQVNBLENBQUNhLGdCQUFnQixDQUNsRDtnQkFBRUMsT0FBT1Y7WUFBUyxHQUNsQjtnQkFBRVcsTUFBTTtvQkFBRUw7Z0JBQU07WUFBRSxHQUNsQjtnQkFBRU0sS0FBSztZQUFLLEdBQ1pDLE1BQU0sQ0FBQztZQUVULElBQUksQ0FBQ0wsYUFBYTtnQkFDaEIsT0FBT1QsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBaUI7WUFDeEQ7WUFFQSxPQUFPTCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFRyxPQUFPRSxZQUFZRixLQUFLO1lBQUM7UUFDekQsT0FBTyxJQUFJUixJQUFJTyxNQUFNLEtBQUssT0FBTztZQUMvQixNQUFNUyxPQUFPLE1BQU1sQiwyREFBU0EsQ0FBQ21CLE9BQU8sQ0FBQztnQkFBRUwsT0FBT1Y7WUFBUyxHQUFHYSxNQUFNLENBQUM7WUFDakUsSUFBSSxDQUFDQyxNQUFNO2dCQUNULE9BQU9mLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLE9BQU87Z0JBQWlCO1lBQ3hEO1lBRUEsT0FBT0wsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUcsT0FBT1EsS0FBS1IsS0FBSztZQUFDO1FBQ2xELE9BQU87WUFDTCxPQUFPUCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXFCO1FBQzVEO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RZLFFBQVFaLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU9MLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QjtJQUMvRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG94YWRvY3Rvci8uL3NyYy9wYWdlcy9hcGkvdXNlci9hdmF0YXIudHM/ODY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQgZGJDb25uZWN0IGZyb20gXCIuLi8uLi8uLi9kYi9kYkNvbm5lY3RcIjtcclxuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIkAvZGIvbW9kZWxzL3VzZXJNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcclxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxyXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXHJcbikge1xyXG4gIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuICBjb25zdCB7IHVzZXJuYW1lIH0gPSByZXEucXVlcnk7XHJcbiAgaWYgKCF1c2VybmFtZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiVXNlcm5hbWUgaXMgcmVxdWlyZWRcIiB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcclxuICAgICAgY29uc3QgeyBpbWFnZSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICBpZiAoIWltYWdlIHx8IHR5cGVvZiBpbWFnZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIHJldHVybiByZXNcclxuICAgICAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAgICAgLmpzb24oeyBlcnJvcjogXCJQaG90byBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBhIHN0cmluZ1wiIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgICAgIHsgZW1haWw6IHVzZXJuYW1lIH0sXHJcbiAgICAgICAgeyAkc2V0OiB7IGltYWdlIH0gfSxcclxuICAgICAgICB7IG5ldzogdHJ1ZSB9XHJcbiAgICAgICkuc2VsZWN0KFwiaW1hZ2VcIik7XHJcblxyXG4gICAgICBpZiAoIXVwZGF0ZWRVc2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6IFwiVXNlciBub3QgZm91bmRcIiB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgaW1hZ2U6IHVwZGF0ZWRVc2VyLmltYWdlIH0pO1xyXG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSBcIkdFVFwiKSB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiB1c2VybmFtZSB9KS5zZWxlY3QoXCJpbWFnZVwiKTtcclxuICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6IFwiVXNlciBub3QgZm91bmRcIiB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgaW1hZ2U6IHVzZXIuaW1hZ2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogXCJNZXRob2Qgbm90IGFsbG93ZWRcIiB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIEFQSSBoYW5kbGVyOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImRiQ29ubmVjdCIsIlVzZXJNb2RlbCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VybmFtZSIsInF1ZXJ5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWV0aG9kIiwiaW1hZ2UiLCJib2R5IiwidXBkYXRlZFVzZXIiLCJmaW5kT25lQW5kVXBkYXRlIiwiZW1haWwiLCIkc2V0IiwibmV3Iiwic2VsZWN0IiwidXNlciIsImZpbmRPbmUiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/user/avatar.ts\n");

/***/ }),

/***/ "(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs":
/*!********************************************************!*\
  !*** ./node_modules/@swc/helpers/cjs/_ts_decorate.cjs ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nexports._ = exports._ts_decorate = __webpack_require__(/*! tslib */ \"tslib\").__decorate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL2Nqcy9fdHNfZGVjb3JhdGUuY2pzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFNBQVMsR0FBRywyRUFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3hhZG9jdG9yLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9janMvX3RzX2RlY29yYXRlLmNqcz9iNTJjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl8gPSBleHBvcnRzLl90c19kZWNvcmF0ZSA9IHJlcXVpcmUoXCJ0c2xpYlwiKS5fX2RlY29yYXRlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\n");

/***/ }),

/***/ "(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs":
/*!********************************************************!*\
  !*** ./node_modules/@swc/helpers/cjs/_ts_metadata.cjs ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nexports._ = exports._ts_metadata = __webpack_require__(/*! tslib */ \"tslib\").__metadata;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL2Nqcy9fdHNfbWV0YWRhdGEuY2pzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFNBQVMsR0FBRywyRUFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3hhZG9jdG9yLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9janMvX3RzX21ldGFkYXRhLmNqcz8zMjI3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl8gPSBleHBvcnRzLl90c19tZXRhZGF0YSA9IHJlcXVpcmUoXCJ0c2xpYlwiKS5fX21ldGFkYXRhO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/user/avatar.ts"));
module.exports = __webpack_exports__;

})();