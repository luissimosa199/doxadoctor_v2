"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/user/online";
exports.ids = ["pages/api/user/online"];
exports.modules = {

/***/ "@typegoose/typegoose":
/*!***************************************!*\
  !*** external "@typegoose/typegoose" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("@typegoose/typegoose");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "tslib":
/*!************************!*\
  !*** external "tslib" ***!
  \************************/
/***/ ((module) => {

module.exports = require("tslib");

/***/ }),

/***/ "@auth/mongodb-adapter":
/*!****************************************!*\
  !*** external "@auth/mongodb-adapter" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@auth/mongodb-adapter");;

/***/ }),

/***/ "nanoid":
/*!*************************!*\
  !*** external "nanoid" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("nanoid");;

/***/ }),

/***/ "(api)/./src/db/dbConnect.ts":
/*!*****************************!*\
  !*** ./src/db/dbConnect.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n// lib/dbConnect.tsx\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections from growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.connect)(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvZGIvZGJDb25uZWN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLG9CQUFvQjtBQUUwQjtBQVM5QyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFDUjtBQUVKO0FBRUE7Ozs7Q0FJQyxHQUNELElBQUlDLFNBQVNDLE9BQU9DLFFBQVE7QUFFNUIsSUFBSSxDQUFDRixRQUFRO0lBQ1hBLFNBQVNDLE9BQU9DLFFBQVEsR0FBRztRQUFFQyxNQUFNO1FBQU1DLFNBQVM7SUFBSztBQUN6RDtBQUVBLGVBQWVDO0lBQ2IsSUFBSUwsT0FBT0csSUFBSSxFQUFFO1FBQ2YsT0FBT0gsT0FBT0csSUFBSTtJQUNwQjtJQUVBLElBQUksQ0FBQ0gsT0FBT0ksT0FBTyxFQUFFO1FBQ25CLE1BQU1FLE9BQU87WUFDWEMsZ0JBQWdCO1FBQ2xCO1FBRUFQLE9BQU9JLE9BQU8sR0FBR1QsaURBQU9BLENBQUNDLGFBQWNVLE1BQU1FLElBQUksQ0FBQyxDQUFDTjtZQUNqRCxPQUFPQTtRQUNUO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZGLE9BQU9HLElBQUksR0FBRyxNQUFNSCxPQUFPSSxPQUFPO0lBQ3BDLEVBQUUsT0FBT0ssR0FBRztRQUNWVCxPQUFPSSxPQUFPLEdBQUc7UUFDakIsTUFBTUs7SUFDUjtJQUVBLE9BQU9ULE9BQU9HLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RveGFkb2N0b3IvLi9zcmMvZGIvZGJDb25uZWN0LnRzPzQ1OGUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2RiQ29ubmVjdC50c3hcclxuXHJcbmltcG9ydCBfbW9uZ29vc2UsIHsgY29ubmVjdCB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIHZhciBtb25nb29zZToge1xyXG4gICAgcHJvbWlzZTogUmV0dXJuVHlwZTx0eXBlb2YgY29ubmVjdD4gfCBudWxsO1xyXG4gICAgY29ubjogdHlwZW9mIF9tb25nb29zZSB8IG51bGw7XHJcbiAgfTtcclxufVxyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICBcIlBsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52LmxvY2FsXCJcclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogR2xvYmFsIGlzIHVzZWQgaGVyZSB0byBtYWludGFpbiBhIGNhY2hlZCBjb25uZWN0aW9uIGFjcm9zcyBob3QgcmVsb2Fkc1xyXG4gKiBpbiBkZXZlbG9wbWVudC4gVGhpcyBwcmV2ZW50cyBjb25uZWN0aW9ucyBmcm9tIGdyb3dpbmcgZXhwb25lbnRpYWxseVxyXG4gKiBkdXJpbmcgQVBJIFJvdXRlIHVzYWdlLlxyXG4gKi9cclxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcclxuXHJcbmlmICghY2FjaGVkKSB7XHJcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ubjtcclxuICB9XHJcblxyXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcclxuICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgY2FjaGVkLnByb21pc2UgPSBjb25uZWN0KE1PTkdPREJfVVJJISwgb3B0cykudGhlbigobW9uZ29vc2UpID0+IHtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XHJcbiJdLCJuYW1lcyI6WyJjb25uZWN0IiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJtb25nb29zZSIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/db/dbConnect.ts\n");

/***/ }),

/***/ "(api)/./src/db/models/userModel.ts":
/*!************************************!*\
  !*** ./src/db/models/userModel.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   User: () => (/* binding */ User),\n/* harmony export */   UserModel: () => (/* binding */ UserModel)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/_/_ts_decorate */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\");\n/* harmony import */ var _swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/_/_ts_metadata */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\");\n/* harmony import */ var _typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @typegoose/typegoose */ \"@typegoose/typegoose\");\n/* harmony import */ var _typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nanoid */ \"nanoid\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([nanoid__WEBPACK_IMPORTED_MODULE_1__]);\nnanoid__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nlet User = class User {\n    static async hashPassword(password) {\n        return await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().hash(password, 10);\n    }\n    async validatePassword(password) {\n        return await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().compare(password, this.password);\n    }\n};\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: ()=>(0,nanoid__WEBPACK_IMPORTED_MODULE_1__.nanoid)(9)\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"_id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        required: true\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"name\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: \"\"\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"slug\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: \"\"\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"bio\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: false\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Boolean)\n], User.prototype, \"online\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        required: true,\n        unique: true\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"email\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        required: true\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"password\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)(),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"image\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)(),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Array)\n], User.prototype, \"tags\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: []\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Array)\n], User.prototype, \"favorites\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        type: [\n            String\n        ],\n        default: []\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Array)\n], User.prototype, \"user_agent_id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)(),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Array)\n], User.prototype, \"photos\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)(),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Object)\n], User.prototype, \"emailVerified\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: false\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", Boolean)\n], User.prototype, \"disableAds\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.prop)({\n        default: \"USER\"\n    }),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_4__._)(\"design:type\", String)\n], User.prototype, \"role\", void 0);\nUser = (0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_3__._)([\n    (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.modelOptions)({\n        schemaOptions: {\n            timestamps: true,\n            collection: \"doxa_usermodel\"\n        },\n        options: {\n            allowMixed: 0\n        }\n    })\n], User);\nconst UserModel = (0,_typegoose_typegoose__WEBPACK_IMPORTED_MODULE_0__.getModelForClass)(User);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvZGIvbW9kZWxzL3VzZXJNb2RlbC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUE0RTtBQUM1QztBQUNKO0FBV3JCLElBQU1LLE9BQU47SUE4Q0wsYUFBYUMsYUFBYUMsUUFBZ0IsRUFBRTtRQUMxQyxPQUFPLE1BQU1ILGtEQUFXLENBQUNHLFVBQVU7SUFDckM7SUFFQSxNQUFNRSxpQkFBaUJGLFFBQWdCLEVBQUU7UUFDdkMsT0FBTyxNQUFNSCxxREFBYyxDQUFDRyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtJQUNyRDtBQUNGOztJQXBER04sMERBQUlBLENBQUM7UUFBRVUsU0FBUyxJQUFNUiw4Q0FBTUEsQ0FBQztJQUFHOztHQUR0QkU7O0lBSVZKLDBEQUFJQSxDQUFDO1FBQUVXLFVBQVU7SUFBSzs7R0FKWlA7O0lBT1ZKLDBEQUFJQSxDQUFDO1FBQUVVLFNBQVM7SUFBRzs7R0FQVE47O0lBVVZKLDBEQUFJQSxDQUFDO1FBQUVVLFNBQVM7SUFBRzs7R0FWVE47O0lBYVZKLDBEQUFJQSxDQUFDO1FBQUVVLFNBQVM7SUFBTTs7R0FiWk47O0lBZ0JWSiwwREFBSUEsQ0FBQztRQUFFVyxVQUFVO1FBQU1DLFFBQVE7SUFBSzs7R0FoQjFCUjs7SUFtQlZKLDBEQUFJQSxDQUFDO1FBQUVXLFVBQVU7SUFBSzs7R0FuQlpQOztJQXNCVkosMERBQUlBOztHQXRCTUk7O0lBeUJWSiwwREFBSUE7O0dBekJNSTs7SUE0QlZKLDBEQUFJQSxDQUFDO1FBQUVVLFNBQVMsRUFBRTtJQUFDOztHQTVCVE47O0lBK0JWSiwwREFBSUEsQ0FBQztRQUFFYSxNQUFNO1lBQUNDO1NBQU87UUFBRUosU0FBUyxFQUFFO0lBQUM7O0dBL0J6Qk47O0lBa0NWSiwwREFBSUE7O0dBbENNSTs7SUFxQ1ZKLDBEQUFJQTs7R0FyQ01JOztJQXdDVkosMERBQUlBLENBQUM7UUFBRVUsU0FBUztJQUFNOztHQXhDWk47O0lBMkNWSiwwREFBSUEsQ0FBQztRQUFFVSxTQUFTO0lBQU87O0dBM0NiTjtBQUFBQSxPQUFBQSwyREFBQUE7SUFUWkwsa0VBQVlBLENBQUM7UUFDWmdCLGVBQWU7WUFDYkMsWUFBWTtZQUNaQyxZQUFZO1FBQ2Q7UUFDQUMsU0FBUztZQUNQQyxZQUFZO1FBQ2Q7SUFDRjtHQUNhZjtBQXVETixNQUFNZ0IsWUFBWW5CLHNFQUFnQkEsQ0FBQ0csTUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2RveGFkb2N0b3IvLi9zcmMvZGIvbW9kZWxzL3VzZXJNb2RlbC50cz81MjE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1vZGVsT3B0aW9ucywgcHJvcCwgZ2V0TW9kZWxGb3JDbGFzcyB9IGZyb20gXCJAdHlwZWdvb3NlL3R5cGVnb29zZVwiO1xyXG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tIFwibmFub2lkXCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xyXG5cclxuQG1vZGVsT3B0aW9ucyh7XHJcbiAgc2NoZW1hT3B0aW9uczoge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICAgIGNvbGxlY3Rpb246IFwiZG94YV91c2VybW9kZWxcIixcclxuICB9LFxyXG4gIG9wdGlvbnM6IHtcclxuICAgIGFsbG93TWl4ZWQ6IDAsXHJcbiAgfSxcclxufSlcclxuZXhwb3J0IGNsYXNzIFVzZXIge1xyXG4gIEBwcm9wKHsgZGVmYXVsdDogKCkgPT4gbmFub2lkKDkpIH0pXHJcbiAgX2lkOiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcclxuICBuYW1lOiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKHsgZGVmYXVsdDogXCJcIiB9KVxyXG4gIHNsdWc6IHN0cmluZztcclxuXHJcbiAgQHByb3AoeyBkZWZhdWx0OiBcIlwiIH0pXHJcbiAgYmlvOiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKHsgZGVmYXVsdDogZmFsc2UgfSlcclxuICBvbmxpbmU6IGJvb2xlYW47XHJcblxyXG4gIEBwcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9KVxyXG4gIGVtYWlsOiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcclxuICBwYXNzd29yZDogc3RyaW5nO1xyXG5cclxuICBAcHJvcCgpXHJcbiAgaW1hZ2U/OiBzdHJpbmc7XHJcblxyXG4gIEBwcm9wKClcclxuICB0YWdzPzogc3RyaW5nW107XHJcblxyXG4gIEBwcm9wKHsgZGVmYXVsdDogW10gfSlcclxuICBmYXZvcml0ZXM/OiBzdHJpbmdbXTtcclxuXHJcbiAgQHByb3AoeyB0eXBlOiBbU3RyaW5nXSwgZGVmYXVsdDogW10gfSlcclxuICB1c2VyX2FnZW50X2lkOiBzdHJpbmdbXTtcclxuXHJcbiAgQHByb3AoKVxyXG4gIHBob3Rvcz86IHN0cmluZ1tdO1xyXG5cclxuICBAcHJvcCgpXHJcbiAgZW1haWxWZXJpZmllZD86IERhdGUgfCBudWxsO1xyXG5cclxuICBAcHJvcCh7IGRlZmF1bHQ6IGZhbHNlIH0pXHJcbiAgZGlzYWJsZUFkcz86IGJvb2xlYW47XHJcblxyXG4gIEBwcm9wKHsgZGVmYXVsdDogXCJVU0VSXCIgfSlcclxuICByb2xlPzogc3RyaW5nO1xyXG5cclxuICBzdGF0aWMgYXN5bmMgaGFzaFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgdmFsaWRhdGVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRoaXMucGFzc3dvcmQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFVzZXJNb2RlbCA9IGdldE1vZGVsRm9yQ2xhc3MoVXNlcik7XHJcbiJdLCJuYW1lcyI6WyJtb2RlbE9wdGlvbnMiLCJwcm9wIiwiZ2V0TW9kZWxGb3JDbGFzcyIsIm5hbm9pZCIsImJjcnlwdCIsIlVzZXIiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsImhhc2giLCJ2YWxpZGF0ZVBhc3N3b3JkIiwiY29tcGFyZSIsImRlZmF1bHQiLCJyZXF1aXJlZCIsInVuaXF1ZSIsInR5cGUiLCJTdHJpbmciLCJzY2hlbWFPcHRpb25zIiwidGltZXN0YW1wcyIsImNvbGxlY3Rpb24iLCJvcHRpb25zIiwiYWxsb3dNaXhlZCIsIlVzZXJNb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/db/models/userModel.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/auth/[...nextauth].ts":
/*!*********************************************!*\
  !*** ./src/pages/api/auth/[...nextauth].ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_mongoDbPromise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/mongoDbPromise */ \"(api)/./src/utils/mongoDbPromise.ts\");\n/* harmony import */ var _auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @auth/mongodb-adapter */ \"@auth/mongodb-adapter\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _db_dbConnect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/db/dbConnect */ \"(api)/./src/db/dbConnect.ts\");\n/* harmony import */ var _db_models_userModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/db/models/userModel */ \"(api)/./src/db/models/userModel.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_1__, _db_models_userModel__WEBPACK_IMPORTED_MODULE_5__]);\n([_auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_1__, _db_models_userModel__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\nconst authOptions = {\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default()({\n            name: \"credentials\",\n            id: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Contrase\\xf1a\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials, req) {\n                if (!credentials) {\n                    return null;\n                }\n                try {\n                    await (0,_db_dbConnect__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n                    const user = await _db_models_userModel__WEBPACK_IMPORTED_MODULE_5__.UserModel.findOne({\n                        email: credentials.email\n                    });\n                    if (!user) {\n                        return null;\n                    }\n                    const isValid = await user.validatePassword(credentials.password);\n                    if (!isValid) {\n                        return null;\n                    }\n                    return {\n                        id: user._id,\n                        name: user.name,\n                        email: user.email,\n                        image: user.image,\n                        role: user.role\n                    };\n                } catch (error) {\n                    console.error(error);\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        jwt: async ({ token, user })=>{\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n                token.picture = user.image;\n            }\n            return token;\n        },\n        session: async ({ session, token })=>{\n            session.role = token.role;\n            return session;\n        }\n    },\n    adapter: (0,_auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_1__.MongoDBAdapter)(_utils_mongoDbPromise__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60,\n        updateAge: 24 * 60 * 60\n    }\n};\nconst NextAuthHandler = (req, res)=>next_auth__WEBPACK_IMPORTED_MODULE_3___default()(req, res, authOptions);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NextAuthHandler);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQW1EO0FBQ0k7QUFJVztBQUNqQztBQUVNO0FBQ1c7QUFrQjNDLE1BQU1NLGNBQStCO0lBRTFDQyxXQUFXO1FBQ1RMLHNFQUFtQkEsQ0FBQztZQUNsQk0sTUFBTTtZQUNOQyxJQUFJO1lBRUpDLGFBQWE7Z0JBQ1hDLE9BQU87b0JBQ0xDLE9BQU87b0JBQ1BDLE1BQU07Z0JBQ1I7Z0JBQ0FDLFVBQVU7b0JBQUVGLE9BQU87b0JBQWNDLE1BQU07Z0JBQVc7WUFDcEQ7WUFFQSxNQUFNRSxXQUFVTCxXQUFXLEVBQUVNLEdBQUc7Z0JBQzlCLElBQUksQ0FBQ04sYUFBYTtvQkFDaEIsT0FBTztnQkFDVDtnQkFFQSxJQUFJO29CQUNGLE1BQU1OLHlEQUFTQTtvQkFDZixNQUFNYSxPQUFPLE1BQU1aLDJEQUFTQSxDQUFDYSxPQUFPLENBQUM7d0JBQUVQLE9BQU9ELFlBQVlDLEtBQUs7b0JBQUM7b0JBRWhFLElBQUksQ0FBQ00sTUFBTTt3QkFDVCxPQUFPO29CQUNUO29CQUVBLE1BQU1FLFVBQVUsTUFBTUYsS0FBS0csZ0JBQWdCLENBQUNWLFlBQVlJLFFBQVE7b0JBRWhFLElBQUksQ0FBQ0ssU0FBUzt3QkFDWixPQUFPO29CQUNUO29CQUNBLE9BQU87d0JBQ0xWLElBQUlRLEtBQUtJLEdBQUc7d0JBQ1piLE1BQU1TLEtBQUtULElBQUk7d0JBQ2ZHLE9BQU9NLEtBQUtOLEtBQUs7d0JBQ2pCVyxPQUFPTCxLQUFLSyxLQUFLO3dCQUNqQkMsTUFBTU4sS0FBS00sSUFBSTtvQkFDakI7Z0JBQ0YsRUFBRSxPQUFPQyxPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUNBO29CQUNkLE9BQU87Z0JBQ1Q7WUFDRjtRQUNGO0tBR0Q7SUFFREUsV0FBVztRQUNUQyxLQUFLLE9BQU8sRUFBRUMsS0FBSyxFQUFFWCxJQUFJLEVBQUU7WUFDekIsSUFBSUEsTUFBTTtnQkFDUlcsTUFBTW5CLEVBQUUsR0FBR1EsS0FBS1IsRUFBRTtnQkFDbEJtQixNQUFNTCxJQUFJLEdBQUcsS0FBNEJBLElBQUk7Z0JBQzdDSyxNQUFNQyxPQUFPLEdBQUdaLEtBQUtLLEtBQUs7WUFDNUI7WUFDQSxPQUFPTTtRQUNUO1FBQ0FFLFNBQVMsT0FBTyxFQUFFQSxPQUFPLEVBQUVGLEtBQUssRUFBRTtZQUM3QkUsUUFBMEJQLElBQUksR0FBRyxNQUFlQSxJQUFJO1lBQ3JELE9BQU9PO1FBQ1g7SUFDRjtJQUVBQyxTQUFTOUIscUVBQWNBLENBQUNELDZEQUFhQTtJQUVyQzhCLFNBQVM7UUFDUEUsVUFBVTtRQUNWQyxRQUFRLEtBQUssS0FBSyxLQUFLO1FBQ3ZCQyxXQUFXLEtBQUssS0FBSztJQUN2QjtBQUNGLEVBQUU7QUFFRixNQUFNQyxrQkFBa0IsQ0FDdEJuQixLQUNBb0IsTUFDR2pDLGdEQUFRQSxDQUFDYSxLQUFLb0IsS0FBSzlCO0FBRXhCLGlFQUFlNkIsZUFBZUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RveGFkb2N0b3IvLi9zcmMvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cz81MGExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbGllbnRQcm9taXNlIGZyb20gXCJAL3V0aWxzL21vbmdvRGJQcm9taXNlXCI7XHJcbmltcG9ydCB7IE1vbmdvREJBZGFwdGVyIH0gZnJvbSBcIkBhdXRoL21vbmdvZGItYWRhcHRlclwiO1xyXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5pbXBvcnQgeyBTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiO1xyXG5pbXBvcnQgTmV4dEF1dGggZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5pbXBvcnQgeyBBZGFwdGVyLCBBZGFwdGVyVXNlciB9IGZyb20gXCJuZXh0LWF1dGgvYWRhcHRlcnNcIjtcclxuaW1wb3J0IGRiQ29ubmVjdCBmcm9tIFwiQC9kYi9kYkNvbm5lY3RcIjtcclxuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIkAvZGIvbW9kZWxzL3VzZXJNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21TZXNzaW9uIGV4dGVuZHMgU2Vzc2lvbiB7XHJcbiAgcm9sZT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21BZGFwdGVyVXNlciBleHRlbmRzIEFkYXB0ZXJVc2VyIHtcclxuICByb2xlPzogc3RyaW5nOyAvLyBBc3N1bWluZyByb2xlIGlzIG9mIHR5cGUgc3RyaW5nOyBhZGp1c3QgYXMgbmVjZXNzYXJ5XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tTmV4dEFwaVJlcXVlc3QgZXh0ZW5kcyBOZXh0QXBpUmVxdWVzdCB7XHJcbiAgLy8gQWRkIGFueSBjdXN0b20gcmVxdWVzdCBwcm9wZXJ0aWVzIGhlcmVcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21OZXh0QXBpUmVzcG9uc2U8VCA9IGFueT4gZXh0ZW5kcyBOZXh0QXBpUmVzcG9uc2U8VD4ge1xyXG4gIC8vIEFkZCBhbnkgY3VzdG9tIHJlc3BvbnNlIHByb3BlcnRpZXMgaGVyZVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcclxuXHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcclxuICAgICAgbmFtZTogXCJjcmVkZW50aWFsc1wiLFxyXG4gICAgICBpZDogXCJjcmVkZW50aWFsc1wiLFxyXG5cclxuICAgICAgY3JlZGVudGlhbHM6IHtcclxuICAgICAgICBlbWFpbDoge1xyXG4gICAgICAgICAgbGFiZWw6IFwiRW1haWxcIixcclxuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6IFwiQ29udHJhc2XDsWFcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMsIHJlcSkge1xyXG4gICAgICAgIGlmICghY3JlZGVudGlhbHMpIHtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0pO1xyXG5cclxuICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdXNlci52YWxpZGF0ZVBhc3N3b3JkKGNyZWRlbnRpYWxzLnBhc3N3b3JkKTtcclxuXHJcbiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGltYWdlOiB1c2VyLmltYWdlLFxyXG4gICAgICAgICAgICByb2xlOiB1c2VyLnJvbGUsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pLFxyXG5cclxuICAgIC8vIC4uLmFkZCBtb3JlIHByb3ZpZGVycyBoZXJlXHJcbiAgXSxcclxuXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICBqd3Q6IGFzeW5jICh7IHRva2VuLCB1c2VyIH0pID0+IHtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWQ7XHJcbiAgICAgICAgdG9rZW4ucm9sZSA9ICh1c2VyIGFzIEN1c3RvbUFkYXB0ZXJVc2VyKS5yb2xlO1xyXG4gICAgICAgIHRva2VuLnBpY3R1cmUgPSB1c2VyLmltYWdlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBzZXNzaW9uOiBhc3luYyAoeyBzZXNzaW9uLCB0b2tlbiB9KSA9PiB7XHJcbiAgICAgICAgKHNlc3Npb24gYXMgQ3VzdG9tU2Vzc2lvbikucm9sZSA9ICh0b2tlbiBhcyBhbnkpLnJvbGU7IFxyXG4gICAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBhZGFwdGVyOiBNb25nb0RCQWRhcHRlcihjbGllbnRQcm9taXNlKSBhcyBBZGFwdGVyLFxyXG5cclxuICBzZXNzaW9uOiB7XHJcbiAgICBzdHJhdGVneTogXCJqd3RcIixcclxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcclxuICAgIHVwZGF0ZUFnZTogMjQgKiA2MCAqIDYwLCAvLyAyNCBob3Vyc1xyXG4gIH0sXHJcbn07XHJcblxyXG5jb25zdCBOZXh0QXV0aEhhbmRsZXIgPSAoXHJcbiAgcmVxOiBDdXN0b21OZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IEN1c3RvbU5leHRBcGlSZXNwb25zZVxyXG4pID0+IE5leHRBdXRoKHJlcSwgcmVzLCBhdXRoT3B0aW9ucyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOZXh0QXV0aEhhbmRsZXI7XHJcbiJdLCJuYW1lcyI6WyJjbGllbnRQcm9taXNlIiwiTW9uZ29EQkFkYXB0ZXIiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiTmV4dEF1dGgiLCJkYkNvbm5lY3QiLCJVc2VyTW9kZWwiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsIm5hbWUiLCJpZCIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInJlcSIsInVzZXIiLCJmaW5kT25lIiwiaXNWYWxpZCIsInZhbGlkYXRlUGFzc3dvcmQiLCJfaWQiLCJpbWFnZSIsInJvbGUiLCJlcnJvciIsImNvbnNvbGUiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInBpY3R1cmUiLCJzZXNzaW9uIiwiYWRhcHRlciIsInN0cmF0ZWd5IiwibWF4QWdlIiwidXBkYXRlQWdlIiwiTmV4dEF1dGhIYW5kbGVyIiwicmVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/auth/[...nextauth].ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/user/online.ts":
/*!**************************************!*\
  !*** ./src/pages/api/user/online.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _db_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../db/dbConnect */ \"(api)/./src/db/dbConnect.ts\");\n/* harmony import */ var _db_models_userModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/db/models/userModel */ \"(api)/./src/db/models/userModel.ts\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _auth_nextauth___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth/[...nextauth] */ \"(api)/./src/pages/api/auth/[...nextauth].ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db_models_userModel__WEBPACK_IMPORTED_MODULE_1__, _auth_nextauth___WEBPACK_IMPORTED_MODULE_3__]);\n([_db_models_userModel__WEBPACK_IMPORTED_MODULE_1__, _auth_nextauth___WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nasync function handler(req, res) {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_2__.getServerSession)(req, res, _auth_nextauth___WEBPACK_IMPORTED_MODULE_3__.authOptions);\n    await (0,_db_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    try {\n        if (req.method === \"POST\") {\n            if (!session) {\n                return res.status(401).json({\n                    error: \"unauthorized\"\n                });\n            }\n            const { online } = req.body;\n            if (!online || typeof online !== \"boolean\") {\n                return res.status(400).json({\n                    error: \"online state required and must be a boolean\"\n                });\n            }\n            const user = await _db_models_userModel__WEBPACK_IMPORTED_MODULE_1__.UserModel.findOne({\n                email: session?.user?.email\n            });\n            if (!user) {\n                return res.status(404).json({\n                    error: \"User not found\"\n                });\n            }\n            if (user.online === online) {\n                return res.status(200).json({\n                    message: \"No update needed\",\n                    online: user.online\n                });\n            }\n            const updatedUser = await _db_models_userModel__WEBPACK_IMPORTED_MODULE_1__.UserModel.findOneAndUpdate({\n                email: session?.user?.email\n            }, {\n                $set: {\n                    online\n                }\n            }, {\n                new: true\n            });\n            return res.status(200).json(updatedUser.online);\n        } else if (req.method === \"GET\") {\n            const { email } = req.query;\n            if (!email) {\n                return res.status(400).json({\n                    error: \"Email is required\"\n                });\n            }\n            const user = await _db_models_userModel__WEBPACK_IMPORTED_MODULE_1__.UserModel.findOne({\n                email: email\n            }).select(\"online updatedAt role\");\n            if (!user) {\n                return res.status(404).json({\n                    error: \"User not found\"\n                });\n            }\n            const minutesAgo = new Date(Date.now() - 2 * 60 * 1000);\n            if (user.role === \"BOT\") {\n                return res.status(200).json({\n                    online: user.online\n                });\n            }\n            if (user.online && user.updatedAt < minutesAgo) {\n                const updatedUser = await _db_models_userModel__WEBPACK_IMPORTED_MODULE_1__.UserModel.findOneAndUpdate({\n                    email: email,\n                    online: true\n                }, {\n                    $set: {\n                        online: false\n                    }\n                }, {\n                    new: true\n                });\n                if (!updatedUser) {\n                    return res.status(200).json({\n                        online: user.online\n                    });\n                }\n                return res.status(200).json({\n                    online: updatedUser.online\n                });\n            } else {\n                return res.status(200).json({\n                    online: user.online\n                });\n            }\n        } else {\n            return res.status(405).json({\n                error: \"Method not allowed\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Error in API handler:\", error);\n        return res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cEQ7Z0JBRUEsT0FBT04sSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUUsUUFBUU0sWUFBWU4sTUFBTTtnQkFBQztZQUMzRCxPQUFPO2dCQUNMLE9BQU9OLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVFLFFBQVFFLEtBQUtGLE1BQU07Z0JBQUM7WUFDcEQ7UUFDRixPQUFPO1lBQ0wsT0FBT04sSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFxQjtRQUM1RDtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNka0IsUUFBUWxCLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU9MLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QjtJQUMvRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG94YWRvY3Rvci8uL3NyYy9wYWdlcy9hcGkvdXNlci9vbmxpbmUudHM/NWQ4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQgZGJDb25uZWN0IGZyb20gXCIuLi8uLi8uLi9kYi9kYkNvbm5lY3RcIjtcclxuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIkAvZGIvbW9kZWxzL3VzZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gXCIuLi9hdXRoL1suLi5uZXh0YXV0aF1cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZVxyXG4pIHtcclxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihyZXEsIHJlcywgYXV0aE9wdGlvbnMpO1xyXG4gIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuICB0cnkge1xyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSB7XHJcbiAgICAgIGlmICghc2Vzc2lvbikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcInVuYXV0aG9yaXplZFwiIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IG9ubGluZSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICBpZiAoIW9ubGluZSB8fCB0eXBlb2Ygb25saW5lICE9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICAgIHJldHVybiByZXNcclxuICAgICAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAgICAgLmpzb24oeyBlcnJvcjogXCJvbmxpbmUgc3RhdGUgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBib29sZWFuXCIgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBzZXNzaW9uPy51c2VyPy5lbWFpbCB9KTtcclxuXHJcbiAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIlVzZXIgbm90IGZvdW5kXCIgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1c2VyLm9ubGluZSA9PT0gb25saW5lKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc1xyXG4gICAgICAgICAgLnN0YXR1cygyMDApXHJcbiAgICAgICAgICAuanNvbih7IG1lc3NhZ2U6IFwiTm8gdXBkYXRlIG5lZWRlZFwiLCBvbmxpbmU6IHVzZXIub25saW5lIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgICAgIHsgZW1haWw6IHNlc3Npb24/LnVzZXI/LmVtYWlsIH0sXHJcbiAgICAgICAgeyAkc2V0OiB7IG9ubGluZSB9IH0sXHJcbiAgICAgICAgeyBuZXc6IHRydWUgfVxyXG4gICAgICApO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVwZGF0ZWRVc2VyIS5vbmxpbmUpO1xyXG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSBcIkdFVFwiKSB7XHJcbiAgICAgIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgICAgIGlmICghZW1haWwpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJFbWFpbCBpcyByZXF1aXJlZFwiIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB1c2VyID0gKGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0pLnNlbGVjdChcclxuICAgICAgICBcIm9ubGluZSB1cGRhdGVkQXQgcm9sZVwiXHJcbiAgICAgICkpIGFzIHtcclxuICAgICAgICBvbmxpbmU6IGJvb2xlYW47XHJcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlO1xyXG4gICAgICAgIHJvbGU6IFwiQURNSU5cIiB8IFwiVVNFUlwiIHwgXCJCT1RcIjtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIlVzZXIgbm90IGZvdW5kXCIgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG1pbnV0ZXNBZ28gPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMiAqIDYwICogMTAwMCk7XHJcblxyXG4gICAgICBpZiAodXNlci5yb2xlID09PSBcIkJPVFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb25saW5lOiB1c2VyLm9ubGluZSB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHVzZXIub25saW5lICYmIHVzZXIudXBkYXRlZEF0IDwgbWludXRlc0Fnbykge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoXHJcbiAgICAgICAgICB7IGVtYWlsOiBlbWFpbCwgb25saW5lOiB0cnVlIH0sXHJcbiAgICAgICAgICB7ICRzZXQ6IHsgb25saW5lOiBmYWxzZSB9IH0sXHJcbiAgICAgICAgICB7IG5ldzogdHJ1ZSB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKCF1cGRhdGVkVXNlcikge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb25saW5lOiB1c2VyLm9ubGluZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9ubGluZTogdXBkYXRlZFVzZXIub25saW5lIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9ubGluZTogdXNlci5vbmxpbmUgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiBcIk1ldGhvZCBub3QgYWxsb3dlZFwiIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gQVBJIGhhbmRsZXI6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZGJDb25uZWN0IiwiVXNlck1vZGVsIiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNlc3Npb24iLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJvbmxpbmUiLCJib2R5IiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsIm1lc3NhZ2UiLCJ1cGRhdGVkVXNlciIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwibmV3IiwicXVlcnkiLCJzZWxlY3QiLCJtaW51dGVzQWdvIiwiRGF0ZSIsIm5vdyIsInJvbGUiLCJ1cGRhdGVkQXQiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/user/online.ts\n");

/***/ }),

/***/ "(api)/./src/utils/mongoDbPromise.ts":
/*!*************************************!*\
  !*** ./src/utils/mongoDbPromise.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"');\n}\nconst uri = process.env.MONGODB_URI;\nconst options = {};\nlet client;\nlet clientPromise;\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    if (!global._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        global._mongoClientPromise = client.connect();\n    }\n    clientPromise = global._mongoClientPromise;\n} else {}\n// Export a module-scoped MongoClient promise. By doing this in a\n// separate module, the client can be shared across functions.\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvbW9uZ29EYlByb21pc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNDO0FBRXRDLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLEVBQUU7SUFDNUIsTUFBTSxJQUFJQyxNQUFNO0FBQ2xCO0FBRUEsTUFBTUMsTUFBY0osUUFBUUMsR0FBRyxDQUFDQyxXQUFXO0FBQzNDLE1BQU1HLFVBQStCLENBQUM7QUFFdEMsSUFBSUM7QUFDSixJQUFJQztBQUVKLElBQUlQLElBQXNDLEVBQUU7SUFDMUMsK0RBQStEO0lBQy9ELDZFQUE2RTtJQUM3RSxJQUFJLENBQUMsT0FBZ0JTLG1CQUFtQixFQUFFO1FBQ3hDSCxTQUFTLElBQUlQLGdEQUFXQSxDQUFDSyxLQUFLQztRQUM3QkcsT0FBZUMsbUJBQW1CLEdBQUdILE9BQU9JLE9BQU87SUFDdEQ7SUFDQUgsZ0JBQWdCLE9BQWdCRSxtQkFBbUI7QUFDckQsT0FBTyxFQUlOO0FBRUQsaUVBQWlFO0FBQ2pFLDhEQUE4RDtBQUM5RCxpRUFBZUYsYUFBYUEsRUFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3hhZG9jdG9yLy4vc3JjL3V0aWxzL21vbmdvRGJQcm9taXNlLnRzP2M1ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tIFwibW9uZ29kYlwiO1xyXG5cclxuaWYgKCFwcm9jZXNzLmVudi5NT05HT0RCX1VSSSkge1xyXG4gIHRocm93IG5ldyBFcnJvcignSW52YWxpZC9NaXNzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlOiBcIk1PTkdPREJfVVJJXCInKTtcclxufVxyXG5cclxuY29uc3QgdXJpOiBzdHJpbmcgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuY29uc3Qgb3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xyXG5cclxubGV0IGNsaWVudDogTW9uZ29DbGllbnQ7XHJcbmxldCBjbGllbnRQcm9taXNlOiBQcm9taXNlPE1vbmdvQ2xpZW50PjtcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XHJcbiAgLy8gSW4gZGV2ZWxvcG1lbnQgbW9kZSwgdXNlIGEgZ2xvYmFsIHZhcmlhYmxlIHNvIHRoYXQgdGhlIHZhbHVlXHJcbiAgLy8gaXMgcHJlc2VydmVkIGFjcm9zcyBtb2R1bGUgcmVsb2FkcyBjYXVzZWQgYnkgSE1SIChIb3QgTW9kdWxlIFJlcGxhY2VtZW50KS5cclxuICBpZiAoIShnbG9iYWwgYXMgYW55KS5fbW9uZ29DbGllbnRQcm9taXNlKSB7XHJcbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKTtcclxuICAgIChnbG9iYWwgYXMgYW55KS5fbW9uZ29DbGllbnRQcm9taXNlID0gY2xpZW50LmNvbm5lY3QoKTtcclxuICB9XHJcbiAgY2xpZW50UHJvbWlzZSA9IChnbG9iYWwgYXMgYW55KS5fbW9uZ29DbGllbnRQcm9taXNlO1xyXG59IGVsc2Uge1xyXG4gIC8vIEluIHByb2R1Y3Rpb24gbW9kZSwgaXQncyBiZXN0IHRvIG5vdCB1c2UgYSBnbG9iYWwgdmFyaWFibGUuXHJcbiAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwgb3B0aW9ucyk7XHJcbiAgY2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCk7XHJcbn1cclxuXHJcbi8vIEV4cG9ydCBhIG1vZHVsZS1zY29wZWQgTW9uZ29DbGllbnQgcHJvbWlzZS4gQnkgZG9pbmcgdGhpcyBpbiBhXHJcbi8vIHNlcGFyYXRlIG1vZHVsZSwgdGhlIGNsaWVudCBjYW4gYmUgc2hhcmVkIGFjcm9zcyBmdW5jdGlvbnMuXHJcbmV4cG9ydCBkZWZhdWx0IGNsaWVudFByb21pc2UgYXMgUHJvbWlzZTxNb25nb0NsaWVudD47XHJcbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsIkVycm9yIiwidXJpIiwib3B0aW9ucyIsImNsaWVudCIsImNsaWVudFByb21pc2UiLCJnbG9iYWwiLCJfbW9uZ29DbGllbnRQcm9taXNlIiwiY29ubmVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/utils/mongoDbPromise.ts\n");

/***/ }),

/***/ "(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs":
/*!********************************************************!*\
  !*** ./node_modules/@swc/helpers/cjs/_ts_decorate.cjs ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nexports._ = exports._ts_decorate = __webpack_require__(/*! tslib */ \"tslib\").__decorate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL2Nqcy9fdHNfZGVjb3JhdGUuY2pzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFNBQVMsR0FBRywyRUFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3hhZG9jdG9yLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9janMvX3RzX2RlY29yYXRlLmNqcz9iNTJjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl8gPSBleHBvcnRzLl90c19kZWNvcmF0ZSA9IHJlcXVpcmUoXCJ0c2xpYlwiKS5fX2RlY29yYXRlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\n");

/***/ }),

/***/ "(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs":
/*!********************************************************!*\
  !*** ./node_modules/@swc/helpers/cjs/_ts_metadata.cjs ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nexports._ = exports._ts_metadata = __webpack_require__(/*! tslib */ \"tslib\").__metadata;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL2Nqcy9fdHNfbWV0YWRhdGEuY2pzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFNBQVMsR0FBRywyRUFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3hhZG9jdG9yLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9janMvX3RzX21ldGFkYXRhLmNqcz8zMjI3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl8gPSBleHBvcnRzLl90c19tZXRhZGF0YSA9IHJlcXVpcmUoXCJ0c2xpYlwiKS5fX21ldGFkYXRhO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/user/online.ts"));
module.exports = __webpack_exports__;

})();